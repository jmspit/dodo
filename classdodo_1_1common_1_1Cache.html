<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dodo: dodo::common::Cache&lt; Key, Value &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dodo
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">A C++ library to create containerized Linux services</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdodo_1_1common_1_1Cache.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">dodo::common::Cache&lt; Key, Value &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple thread-safe <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> template for arbitrary Key-Value pairs.  
 <a href="classdodo_1_1common_1_1Cache.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cache_8hpp_source.html">cache.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for dodo::common::Cache&lt; Key, Value &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classdodo_1_1common_1_1Cache__coll__graph.png" border="0" usemap="#dodo_1_1common_1_1Cache_3_01Key_00_01Value_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="dodo_1_1common_1_1Cache_3_01Key_00_01Value_01_4_coll__map" id="dodo_1_1common_1_1Cache_3_01Key_00_01Value_01_4_coll__map">
<area shape="rect" title="Simple thread&#45;safe Cache template for arbitrary Key&#45;Value pairs." alt="" coords="352,97,519,138"/>
<area shape="rect" title=" " alt="" coords="5,5,220,32"/>
<area shape="rect" title=" " alt="" coords="75,56,150,83"/>
<area shape="rect" href="classdodo_1_1threads_1_1Mutex.html" title="A Mutex to synchronize access to resources between threads." alt="" coords="33,107,193,133"/>
<area shape="rect" title=" " alt="" coords="83,193,143,220"/>
<area shape="rect" title=" " alt="" coords="29,244,196,300"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdodo_1_1common_1_1Cache_1_1CacheEntry.html">CacheEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A CachedEntry holds the Value as well as last load and last hit time.  <a href="structdodo_1_1common_1_1Cache_1_1CacheEntry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8eaa193c601b0380595d3fad6deb6ff5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a8eaa193c601b0380595d3fad6deb6ff5">Cache</a> (size_t max_size, std::chrono::seconds life_time)</td></tr>
<tr class="memdesc:a8eaa193c601b0380595d3fad6deb6ff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a cache with at most max_size entries, and a maximum life_time of the cached entry.  <a href="classdodo_1_1common_1_1Cache.html#a8eaa193c601b0380595d3fad6deb6ff5">More...</a><br /></td></tr>
<tr class="separator:a8eaa193c601b0380595d3fad6deb6ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb3eba0cce8bb344c1e19ef6e19b6a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a9eb3eba0cce8bb344c1e19ef6e19b6a0">clear</a> ()</td></tr>
<tr class="memdesc:a9eb3eba0cce8bb344c1e19ef6e19b6a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wipes all cached entries.  <a href="classdodo_1_1common_1_1Cache.html#a9eb3eba0cce8bb344c1e19ef6e19b6a0">More...</a><br /></td></tr>
<tr class="separator:a9eb3eba0cce8bb344c1e19ef6e19b6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b152593a02a6167c5b920339120870b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a7b152593a02a6167c5b920339120870b">erase</a> (const Key &amp;key)</td></tr>
<tr class="memdesc:a7b152593a02a6167c5b920339120870b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the key from the cache.  <a href="classdodo_1_1common_1_1Cache.html#a7b152593a02a6167c5b920339120870b">More...</a><br /></td></tr>
<tr class="separator:a7b152593a02a6167c5b920339120870b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2e048ff4434184a4fc0ee71cb97e03"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a0e2e048ff4434184a4fc0ee71cb97e03">get</a> (const Key &amp;key, Value &amp;value)</td></tr>
<tr class="memdesc:a0e2e048ff4434184a4fc0ee71cb97e03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a copy of the Value idenified by Key.  <a href="classdodo_1_1common_1_1Cache.html#a0e2e048ff4434184a4fc0ee71cb97e03">More...</a><br /></td></tr>
<tr class="separator:a0e2e048ff4434184a4fc0ee71cb97e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac56332ef04cec118cf24fba375c5022f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#ac56332ef04cec118cf24fba375c5022f">getExpiries</a> () const</td></tr>
<tr class="memdesc:ac56332ef04cec118cf24fba375c5022f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of times a Key was present in the cache (a hit) but expired so implictly calling a load.  <a href="classdodo_1_1common_1_1Cache.html#ac56332ef04cec118cf24fba375c5022f">More...</a><br /></td></tr>
<tr class="separator:ac56332ef04cec118cf24fba375c5022f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bfd5e2dd07bbeafe3311b3636f470fb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a0bfd5e2dd07bbeafe3311b3636f470fb">getHits</a> () const</td></tr>
<tr class="memdesc:a0bfd5e2dd07bbeafe3311b3636f470fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of cache hits, which may include hits on expired entries - which still cause a <a class="el" href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426" title="Implement to laod a value from the slow source.">load()</a> call.  <a href="classdodo_1_1common_1_1Cache.html#a0bfd5e2dd07bbeafe3311b3636f470fb">More...</a><br /></td></tr>
<tr class="separator:a0bfd5e2dd07bbeafe3311b3636f470fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d89a491114c0f8137d94389781afe42"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a7d89a491114c0f8137d94389781afe42">getMisses</a> () const</td></tr>
<tr class="memdesc:a7d89a491114c0f8137d94389781afe42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of cache loads - the number of times a Key was requested but not present in the cache.  <a href="classdodo_1_1common_1_1Cache.html#a7d89a491114c0f8137d94389781afe42">More...</a><br /></td></tr>
<tr class="separator:a7d89a491114c0f8137d94389781afe42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7991c13600b26e7f7a2b8caa18afdf6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a7991c13600b26e7f7a2b8caa18afdf6e">setMaxLifeTime</a> (const std::chrono::seconds &amp;seconds)</td></tr>
<tr class="memdesc:a7991c13600b26e7f7a2b8caa18afdf6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum life time, in seconds, of a cached entry.  <a href="classdodo_1_1common_1_1Cache.html#a7991c13600b26e7f7a2b8caa18afdf6e">More...</a><br /></td></tr>
<tr class="separator:a7991c13600b26e7f7a2b8caa18afdf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736630526ee122c6581437458923ccd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a736630526ee122c6581437458923ccd9">setMaxSize</a> (size_t max_size)</td></tr>
<tr class="memdesc:a736630526ee122c6581437458923ccd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum size / number of entries to cache.  <a href="classdodo_1_1common_1_1Cache.html#a736630526ee122c6581437458923ccd9">More...</a><br /></td></tr>
<tr class="separator:a736630526ee122c6581437458923ccd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a6ab3a8409a03f79cb2e3e2c12672a956"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; Key, <a class="el" href="structdodo_1_1common_1_1Cache_1_1CacheEntry.html">CacheEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a6ab3a8409a03f79cb2e3e2c12672a956">CacheMap</a></td></tr>
<tr class="memdesc:a6ab3a8409a03f79cb2e3e2c12672a956"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef for the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map  <a href="classdodo_1_1common_1_1Cache.html#a6ab3a8409a03f79cb2e3e2c12672a956">More...</a><br /></td></tr>
<tr class="separator:a6ab3a8409a03f79cb2e3e2c12672a956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade91a40157cba97e626c7b1bb6bc012d"><td class="memItemLeft" align="right" valign="top">typedef CacheMap::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#ade91a40157cba97e626c7b1bb6bc012d">CICacheMap</a></td></tr>
<tr class="memdesc:ade91a40157cba97e626c7b1bb6bc012d"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef for a const iterator into the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map  <a href="classdodo_1_1common_1_1Cache.html#ade91a40157cba97e626c7b1bb6bc012d">More...</a><br /></td></tr>
<tr class="separator:ade91a40157cba97e626c7b1bb6bc012d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbaa12ab2212dfc29ecdc2143a0c777"><td class="memItemLeft" align="right" valign="top">typedef LRUMap::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a5bbaa12ab2212dfc29ecdc2143a0c777">CILRUMap</a></td></tr>
<tr class="memdesc:a5bbaa12ab2212dfc29ecdc2143a0c777"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef for a const iterator into the LRU map  <a href="classdodo_1_1common_1_1Cache.html#a5bbaa12ab2212dfc29ecdc2143a0c777">More...</a><br /></td></tr>
<tr class="separator:a5bbaa12ab2212dfc29ecdc2143a0c777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8df03b7806560d29c2d7dc1d9b2437"><td class="memItemLeft" align="right" valign="top">typedef CacheMap::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#aba8df03b7806560d29c2d7dc1d9b2437">ICacheMap</a></td></tr>
<tr class="memdesc:aba8df03b7806560d29c2d7dc1d9b2437"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef for an iterator into the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map  <a href="classdodo_1_1common_1_1Cache.html#aba8df03b7806560d29c2d7dc1d9b2437">More...</a><br /></td></tr>
<tr class="separator:aba8df03b7806560d29c2d7dc1d9b2437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55623a6f4dbc68ea57a22268cb5c73b"><td class="memItemLeft" align="right" valign="top">typedef LRUMap::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#af55623a6f4dbc68ea57a22268cb5c73b">ILRUMap</a></td></tr>
<tr class="memdesc:af55623a6f4dbc68ea57a22268cb5c73b"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef for an iterator into the LRU map  <a href="classdodo_1_1common_1_1Cache.html#af55623a6f4dbc68ea57a22268cb5c73b">More...</a><br /></td></tr>
<tr class="separator:af55623a6f4dbc68ea57a22268cb5c73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a808b3b68ad873cd9a710836154a68"><td class="memItemLeft" align="right" valign="top">typedef std::multimap&lt; std::chrono::steady_clock::time_point, Key &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a79a808b3b68ad873cd9a710836154a68">LRUMap</a></td></tr>
<tr class="memdesc:a79a808b3b68ad873cd9a710836154a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef for the LRU map  <a href="classdodo_1_1common_1_1Cache.html#a79a808b3b68ad873cd9a710836154a68">More...</a><br /></td></tr>
<tr class="separator:a79a808b3b68ad873cd9a710836154a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3cfa33d8bb0dda0002b44845f5bed426"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426">load</a> (const Key &amp;key, Value &amp;value)=0</td></tr>
<tr class="memdesc:a3cfa33d8bb0dda0002b44845f5bed426"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement to laod a value from the slow source.  <a href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426">More...</a><br /></td></tr>
<tr class="separator:a3cfa33d8bb0dda0002b44845f5bed426"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae0e55c44c999f90372817abd0c350085"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdodo_1_1common_1_1Cache.html#a6ab3a8409a03f79cb2e3e2c12672a956">CacheMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#ae0e55c44c999f90372817abd0c350085">cache_</a></td></tr>
<tr class="memdesc:ae0e55c44c999f90372817abd0c350085"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map.  <a href="classdodo_1_1common_1_1Cache.html#ae0e55c44c999f90372817abd0c350085">More...</a><br /></td></tr>
<tr class="separator:ae0e55c44c999f90372817abd0c350085"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a39624f55b10b38bca47cbe0d2b53cdd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a39624f55b10b38bca47cbe0d2b53cdd5">addLRU</a> (const <a class="el" href="classdodo_1_1common_1_1Cache.html#ade91a40157cba97e626c7b1bb6bc012d">CICacheMap</a> &amp;iter)</td></tr>
<tr class="memdesc:a39624f55b10b38bca47cbe0d2b53cdd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an entry to the lrumap_.  <a href="classdodo_1_1common_1_1Cache.html#a39624f55b10b38bca47cbe0d2b53cdd5">More...</a><br /></td></tr>
<tr class="separator:a39624f55b10b38bca47cbe0d2b53cdd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4147017086621cdc4766eac08335c0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#aa4147017086621cdc4766eac08335c0a">removeLRU</a> ()</td></tr>
<tr class="memdesc:aa4147017086621cdc4766eac08335c0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the oldest CachedEntry from cache_ and lrumap_.  <a href="classdodo_1_1common_1_1Cache.html#aa4147017086621cdc4766eac08335c0a">More...</a><br /></td></tr>
<tr class="separator:aa4147017086621cdc4766eac08335c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fe8e9a7b2a2adab60adea94b52571d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a16fe8e9a7b2a2adab60adea94b52571d">updateLRU</a> (const <a class="el" href="classdodo_1_1common_1_1Cache.html#ade91a40157cba97e626c7b1bb6bc012d">CICacheMap</a> &amp;iter, std::chrono::steady_clock::time_point prev_hit_time)</td></tr>
<tr class="memdesc:a16fe8e9a7b2a2adab60adea94b52571d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update an entry in the lrumap_.  <a href="classdodo_1_1common_1_1Cache.html#a16fe8e9a7b2a2adab60adea94b52571d">More...</a><br /></td></tr>
<tr class="separator:a16fe8e9a7b2a2adab60adea94b52571d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9885e0844ac57e2cea130ecdfd43d817"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a9885e0844ac57e2cea130ecdfd43d817">expired_</a> = 0</td></tr>
<tr class="memdesc:a9885e0844ac57e2cea130ecdfd43d817"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of expiries.  <a href="classdodo_1_1common_1_1Cache.html#a9885e0844ac57e2cea130ecdfd43d817">More...</a><br /></td></tr>
<tr class="separator:a9885e0844ac57e2cea130ecdfd43d817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1940c8bf8e75f4b46ee15792c06a27c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#af1940c8bf8e75f4b46ee15792c06a27c">hits_</a> = 0</td></tr>
<tr class="memdesc:af1940c8bf8e75f4b46ee15792c06a27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of hits.  <a href="classdodo_1_1common_1_1Cache.html#af1940c8bf8e75f4b46ee15792c06a27c">More...</a><br /></td></tr>
<tr class="separator:af1940c8bf8e75f4b46ee15792c06a27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a25c9195c9a8099422c168ed9b91d20"><td class="memItemLeft" align="right" valign="top">std::chrono::seconds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a4a25c9195c9a8099422c168ed9b91d20">life_time_s_</a> = 300s</td></tr>
<tr class="memdesc:a4a25c9195c9a8099422c168ed9b91d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum life time of a cached entry.  <a href="classdodo_1_1common_1_1Cache.html#a4a25c9195c9a8099422c168ed9b91d20">More...</a><br /></td></tr>
<tr class="separator:a4a25c9195c9a8099422c168ed9b91d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c173f2f3c9a68994daccf7beb5e542"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a68c173f2f3c9a68994daccf7beb5e542">load_</a> = 0</td></tr>
<tr class="memdesc:a68c173f2f3c9a68994daccf7beb5e542"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of loades.  <a href="classdodo_1_1common_1_1Cache.html#a68c173f2f3c9a68994daccf7beb5e542">More...</a><br /></td></tr>
<tr class="separator:a68c173f2f3c9a68994daccf7beb5e542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9228997ac5bb318a2a6bb896e36fcd61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdodo_1_1common_1_1Cache.html#a79a808b3b68ad873cd9a710836154a68">LRUMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a9228997ac5bb318a2a6bb896e36fcd61">lrumap_</a></td></tr>
<tr class="memdesc:a9228997ac5bb318a2a6bb896e36fcd61"><td class="mdescLeft">&#160;</td><td class="mdescRight">The least-recently-used map.  <a href="classdodo_1_1common_1_1Cache.html#a9228997ac5bb318a2a6bb896e36fcd61">More...</a><br /></td></tr>
<tr class="separator:a9228997ac5bb318a2a6bb896e36fcd61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2408143e04950a29307ae2947bc20032"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a2408143e04950a29307ae2947bc20032">max_size_</a></td></tr>
<tr class="memdesc:a2408143e04950a29307ae2947bc20032"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of cache entries.  <a href="classdodo_1_1common_1_1Cache.html#a2408143e04950a29307ae2947bc20032">More...</a><br /></td></tr>
<tr class="separator:a2408143e04950a29307ae2947bc20032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da392baf8d64dcf04433f8f56b45f63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdodo_1_1threads_1_1Mutex.html">threads::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdodo_1_1common_1_1Cache.html#a3da392baf8d64dcf04433f8f56b45f63">mutex_</a></td></tr>
<tr class="memdesc:a3da392baf8d64dcf04433f8f56b45f63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to synchronize threads.  <a href="classdodo_1_1common_1_1Cache.html#a3da392baf8d64dcf04433f8f56b45f63">More...</a><br /></td></tr>
<tr class="separator:a3da392baf8d64dcf04433f8f56b45f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Key, class Value&gt;<br />
class dodo::common::Cache&lt; Key, Value &gt;</h3>

<p>Simple thread-safe <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> template for arbitrary Key-Value pairs. </p>
<p>A <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> is applicable where the <a class="el" href="classdodo_1_1common_1_1Cache.html#a0e2e048ff4434184a4fc0ee71cb97e03" title="Get a copy of the Value idenified by Key.">get( const Key&amp; key, Value &amp;value )</a> that finds the key in the cache, is much faster than the <a class="el" href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426" title="Implement to laod a value from the slow source.">load( const Key&amp; key, Value &amp;value )</a>. Each <a class="el" href="structdodo_1_1common_1_1Cache_1_1CacheEntry.html" title="A CachedEntry holds the Value as well as last load and last hit time.">CacheEntry</a> tracks the latest hit and load times. In case of pressure on the max_size, entries with the lowest hit_time are evicted to make room for the new <a class="el" href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426" title="Implement to laod a value from the slow source.">load()</a>. Additionally, if life_time is non-zero and the Value's load time is older then that, <a class="el" href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426" title="Implement to laod a value from the slow source.">load()</a> is invoked even if <a class="el" href="classdodo_1_1common_1_1Cache.html#a0e2e048ff4434184a4fc0ee71cb97e03" title="Get a copy of the Value idenified by Key.">get()</a> is a cache hit, updating both the load time and the hit time.</p>
<p>The Key class must have equality (==) and ordering (&lt;) operators for the template instantiation to compile.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Key</td><td>The unique Key type to the cached entries. </td></tr>
    <tr><td class="paramname">Value</td><td>the cached Value type.</td></tr>
  </table>
  </dd>
</dl>
<p>The number of 'loads' is <a class="el" href="classdodo_1_1common_1_1Cache.html#a7d89a491114c0f8137d94389781afe42" title="Get the number of cache loads - the number of times a Key was requested but not present in the cache.">getMisses()</a> + <a class="el" href="classdodo_1_1common_1_1Cache.html#ac56332ef04cec118cf24fba375c5022f" title="Get the number of times a Key was present in the cache (a hit) but expired so implictly calling a loa...">getExpiries()</a>.</p>
<p>The time complexity of the get call is O(N log N) where N is the number of cache entries. The cache and lrumap are backed by std::map and std::multimap respectively.</p>
<p>Note that <a class="el" href="classdodo_1_1common_1_1Cache.html#a0e2e048ff4434184a4fc0ee71cb97e03" title="Get a copy of the Value idenified by Key.">get()</a> receives a copy of the Value in the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a>. If thread A receives Value v1, thread B may cause the Value to get reloaded if its life_time expired , and that Value v2 might differ from v1. So the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> does not guarentee that two values retrurned by get on the same Key are equal no matter how close they are in wallclock time.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="dodo_8hpp.html">dodo.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacedodo.html">dodo</a>;</div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>TestCache : <span class="keyword">public</span> <a class="code" href="classdodo_1_1common_1_1Cache.html">common::Cache</a>&lt;int, std::string&gt; {</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    TestCache( <span class="keywordtype">size_t</span> max_size, std::chrono::seconds life_time ) : <a class="code" href="classdodo_1_1common_1_1Cache.html#a8eaa193c601b0380595d3fad6deb6ff5">Cache</a>&lt;int, std::string&gt;(max_size,life_time) {}</div>
<div class="line">  <span class="keyword">protected</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426">load</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;key, std::string &amp;value ) {</div>
<div class="line">      std::stringstream ss;</div>
<div class="line">      ss &lt;&lt; <span class="stringliteral">&quot;retrieving value for key &quot;</span> &lt;&lt; key;</div>
<div class="line">      value = ss.str();</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  TestCache cache( 38, 40s );</div>
<div class="line">  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 200; i++ ) {</div>
<div class="line">    std::string value;</div>
<div class="line">    cache.get( rand() % 40, value );</div>
<div class="line">    <span class="comment">//cout &lt;&lt; value &lt;&lt; endl;</span></div>
<div class="line">    std::this_thread::sleep_for (std::chrono::milliseconds(rand() % 1000));</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::flush;</div>
<div class="line">  }</div>
<div class="line">  std::cout &lt;&lt; std::endl;</div>
<div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;hit     &quot;</span> &lt;&lt; cache.getHits() &lt;&lt; endl;</div>
<div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;miss    &quot;</span> &lt;&lt; cache.getMisses() &lt;&lt; endl;</div>
<div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;expired &quot;</span> &lt;&lt; cache.getExpiries() &lt;&lt; endl;</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00060">60</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a6ab3a8409a03f79cb2e3e2c12672a956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab3a8409a03f79cb2e3e2c12672a956">&#9670;&nbsp;</a></span>CacheMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;Key,<a class="el" href="structdodo_1_1common_1_1Cache_1_1CacheEntry.html">CacheEntry</a>&gt; <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::<a class="el" href="classdodo_1_1common_1_1Cache.html#a6ab3a8409a03f79cb2e3e2c12672a956">CacheMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>typedef for the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00077">77</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="ade91a40157cba97e626c7b1bb6bc012d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade91a40157cba97e626c7b1bb6bc012d">&#9670;&nbsp;</a></span>CICacheMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef CacheMap::const_iterator <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::<a class="el" href="classdodo_1_1common_1_1Cache.html#ade91a40157cba97e626c7b1bb6bc012d">CICacheMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>typedef for a const iterator into the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00081">81</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a5bbaa12ab2212dfc29ecdc2143a0c777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bbaa12ab2212dfc29ecdc2143a0c777">&#9670;&nbsp;</a></span>CILRUMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef LRUMap::const_iterator <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::<a class="el" href="classdodo_1_1common_1_1Cache.html#a5bbaa12ab2212dfc29ecdc2143a0c777">CILRUMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>typedef for a const iterator into the LRU map </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00087">87</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="aba8df03b7806560d29c2d7dc1d9b2437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8df03b7806560d29c2d7dc1d9b2437">&#9670;&nbsp;</a></span>ICacheMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef CacheMap::iterator <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::<a class="el" href="classdodo_1_1common_1_1Cache.html#aba8df03b7806560d29c2d7dc1d9b2437">ICacheMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>typedef for an iterator into the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00079">79</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="af55623a6f4dbc68ea57a22268cb5c73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55623a6f4dbc68ea57a22268cb5c73b">&#9670;&nbsp;</a></span>ILRUMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef LRUMap::iterator <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::<a class="el" href="classdodo_1_1common_1_1Cache.html#af55623a6f4dbc68ea57a22268cb5c73b">ILRUMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>typedef for an iterator into the LRU map </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00085">85</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a79a808b3b68ad873cd9a710836154a68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a808b3b68ad873cd9a710836154a68">&#9670;&nbsp;</a></span>LRUMap</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::multimap&lt;std::chrono::steady_clock::time_point,Key&gt; <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::<a class="el" href="classdodo_1_1common_1_1Cache.html#a79a808b3b68ad873cd9a710836154a68">LRUMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>typedef for the LRU map </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00083">83</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8eaa193c601b0380595d3fad6deb6ff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eaa193c601b0380595d3fad6deb6ff5">&#9670;&nbsp;</a></span>Cache()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::<a class="el" href="classdodo_1_1common_1_1Cache.html">Cache</a> </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::seconds&#160;</td>
          <td class="paramname"><em>life_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a cache with at most max_size entries, and a maximum life_time of the cached entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_size</td><td>The maximum number of entries in the <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a>. </td></tr>
    <tr><td class="paramname">life_time</td><td>The maximum number of seconds a cached entry may live before a get hit will issue a load. A life_time of 0s will disable the aging of cached entries. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00097">97</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a39624f55b10b38bca47cbe0d2b53cdd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39624f55b10b38bca47cbe0d2b53cdd5">&#9670;&nbsp;</a></span>addLRU()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::addLRU </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdodo_1_1common_1_1Cache.html#ade91a40157cba97e626c7b1bb6bc012d">CICacheMap</a> &amp;&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an entry to the lrumap_. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>An iterator to the <a class="el" href="structdodo_1_1common_1_1Cache_1_1CacheEntry.html" title="A CachedEntry holds the Value as well as last load and last hit time.">CacheEntry</a>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00223">223</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a9eb3eba0cce8bb344c1e19ef6e19b6a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb3eba0cce8bb344c1e19ef6e19b6a0">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wipes all cached entries. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00105">105</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a7b152593a02a6167c5b920339120870b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b152593a02a6167c5b920339120870b">&#9670;&nbsp;</a></span>erase()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::erase </td>
          <td>(</td>
          <td class="paramtype">const Key &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Erase the key from the cache. </p>
<p>A subsequent get on the same Key will call load. Does nothing if the Key does not exist in the cache. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The Key to erase. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00171">171</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a0e2e048ff4434184a4fc0ee71cb97e03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2e048ff4434184a4fc0ee71cb97e03">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::get </td>
          <td>(</td>
          <td class="paramtype">const Key &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Value &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a copy of the Value idenified by Key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The Key to get the Value for. </td></tr>
    <tr><td class="paramname">value</td><td>Reference to the Value that will be assigned a copy of the cached entry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false when the key is not loadable (load returns false). </dd></dl>
<dl class="section see"><dt>See also</dt><dd>load( const Key&amp; key ) </dd></dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00119">119</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="ac56332ef04cec118cf24fba375c5022f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac56332ef04cec118cf24fba375c5022f">&#9670;&nbsp;</a></span>getExpiries()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::getExpiries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of times a Key was present in the cache (a hit) but expired so implictly calling a load. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of times a Key was present in the cache, but expired and cuasing a call to load. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00164">164</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a0bfd5e2dd07bbeafe3311b3636f470fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bfd5e2dd07bbeafe3311b3636f470fb">&#9670;&nbsp;</a></span>getHits()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::getHits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of cache hits, which may include hits on expired entries - which still cause a <a class="el" href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426" title="Implement to laod a value from the slow source.">load()</a> call. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of times a Key was requested and present in the cache. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00152">152</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a7d89a491114c0f8137d94389781afe42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d89a491114c0f8137d94389781afe42">&#9670;&nbsp;</a></span>getMisses()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::getMisses </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of cache loads - the number of times a Key was requested but not present in the cache. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of cache loades. </dd></dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00158">158</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a3cfa33d8bb0dda0002b44845f5bed426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cfa33d8bb0dda0002b44845f5bed426">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::load </td>
          <td>(</td>
          <td class="paramtype">const Key &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Value &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implement to laod a value from the slow source. </p>
<p>If the key is not loadable, return false. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The Key to load. </td></tr>
    <tr><td class="paramname">value</td><td>To receive the value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>False if the key could not be loaded. </dd></dl>

</div>
</div>
<a id="aa4147017086621cdc4766eac08335c0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4147017086621cdc4766eac08335c0a">&#9670;&nbsp;</a></span>removeLRU()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::removeLRU </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove the oldest CachedEntry from cache_ and lrumap_. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00230">230</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a7991c13600b26e7f7a2b8caa18afdf6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7991c13600b26e7f7a2b8caa18afdf6e">&#9670;&nbsp;</a></span>setMaxLifeTime()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::setMaxLifeTime </td>
          <td>(</td>
          <td class="paramtype">const std::chrono::seconds &amp;&#160;</td>
          <td class="paramname"><em>seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the maximum life time, in seconds, of a cached entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_size</td><td>The maximum size to set. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00200">200</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a736630526ee122c6581437458923ccd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736630526ee122c6581437458923ccd9">&#9670;&nbsp;</a></span>setMaxSize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::setMaxSize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the maximum size / number of entries to cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_size</td><td>The maximum size to set. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00194">194</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a16fe8e9a7b2a2adab60adea94b52571d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16fe8e9a7b2a2adab60adea94b52571d">&#9670;&nbsp;</a></span>updateLRU()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::updateLRU </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdodo_1_1common_1_1Cache.html#ade91a40157cba97e626c7b1bb6bc012d">CICacheMap</a> &amp;&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::steady_clock::time_point&#160;</td>
          <td class="paramname"><em>prev_hit_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update an entry in the lrumap_. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>An iterator to the <a class="el" href="structdodo_1_1common_1_1Cache_1_1CacheEntry.html" title="A CachedEntry holds the Value as well as last load and last hit time.">CacheEntry</a>. </td></tr>
    <tr><td class="paramname">prev_hit_time</td><td>The previous hit time (the current key into the lrumap_) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00242">242</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="ae0e55c44c999f90372817abd0c350085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e55c44c999f90372817abd0c350085">&#9670;&nbsp;</a></span>cache_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdodo_1_1common_1_1Cache.html#a6ab3a8409a03f79cb2e3e2c12672a956">CacheMap</a> <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <a class="el" href="classdodo_1_1common_1_1Cache.html" title="Simple thread-safe Cache template for arbitrary Key-Value pairs.">Cache</a> map. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00215">215</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a9885e0844ac57e2cea130ecdfd43d817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9885e0844ac57e2cea130ecdfd43d817">&#9670;&nbsp;</a></span>expired_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::expired_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of expiries. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00290">290</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="af1940c8bf8e75f4b46ee15792c06a27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1940c8bf8e75f4b46ee15792c06a27c">&#9670;&nbsp;</a></span>hits_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::hits_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of hits. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00280">280</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a4a25c9195c9a8099422c168ed9b91d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a25c9195c9a8099422c168ed9b91d20">&#9670;&nbsp;</a></span>life_time_s_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::seconds <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::life_time_s_ = 300s</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum life time of a cached entry. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00270">270</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a68c173f2f3c9a68994daccf7beb5e542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68c173f2f3c9a68994daccf7beb5e542">&#9670;&nbsp;</a></span>load_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::load_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of loades. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00285">285</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a9228997ac5bb318a2a6bb896e36fcd61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9228997ac5bb318a2a6bb896e36fcd61">&#9670;&nbsp;</a></span>lrumap_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdodo_1_1common_1_1Cache.html#a79a808b3b68ad873cd9a710836154a68">LRUMap</a> <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::lrumap_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The least-recently-used map. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00260">260</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a2408143e04950a29307ae2947bc20032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2408143e04950a29307ae2947bc20032">&#9670;&nbsp;</a></span>max_size_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::max_size_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum number of cache entries. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00265">265</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<a id="a3da392baf8d64dcf04433f8f56b45f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da392baf8d64dcf04433f8f56b45f63">&#9670;&nbsp;</a></span>mutex_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Key , class Value &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdodo_1_1threads_1_1Mutex.html">threads::Mutex</a> <a class="el" href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a>&lt; Key, Value &gt;::mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex to synchronize threads. </p>

<p class="definition">Definition at line <a class="el" href="cache_8hpp_source.html#l00275">275</a> of file <a class="el" href="cache_8hpp_source.html">cache.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/include/common/<a class="el" href="cache_8hpp_source.html">cache.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassdodo_1_1common_1_1Cache_html"><div class="ttname"><a href="classdodo_1_1common_1_1Cache.html">dodo::common::Cache</a></div><div class="ttdoc">Simple thread-safe Cache template for arbitrary Key-Value pairs.</div><div class="ttdef"><b>Definition:</b> <a href="cache_8hpp_source.html#l00060">cache.hpp:60</a></div></div>
<div class="ttc" id="aclassdodo_1_1common_1_1Cache_html_a8eaa193c601b0380595d3fad6deb6ff5"><div class="ttname"><a href="classdodo_1_1common_1_1Cache.html#a8eaa193c601b0380595d3fad6deb6ff5">dodo::common::Cache::Cache</a></div><div class="ttdeci">Cache(size_t max_size, std::chrono::seconds life_time)</div><div class="ttdoc">Construct a cache with at most max_size entries, and a maximum life_time of the cached entry.</div><div class="ttdef"><b>Definition:</b> <a href="cache_8hpp_source.html#l00097">cache.hpp:97</a></div></div>
<div class="ttc" id="aclassdodo_1_1common_1_1Cache_html_a3cfa33d8bb0dda0002b44845f5bed426"><div class="ttname"><a href="classdodo_1_1common_1_1Cache.html#a3cfa33d8bb0dda0002b44845f5bed426">dodo::common::Cache::load</a></div><div class="ttdeci">virtual bool load(const Key &amp;key, Value &amp;value)=0</div><div class="ttdoc">Implement to laod a value from the slow source.</div></div>
<div class="ttc" id="anamespacedodo_html"><div class="ttname"><a href="namespacedodo.html">dodo</a></div><div class="ttdoc">A C++ platform interface to lean Linux services tailored for containerized deployment.</div><div class="ttdef"><b>Definition:</b> <a href="application_8hpp_source.html#l00029">application.hpp:29</a></div></div>
<div class="ttc" id="adodo_8hpp_html"><div class="ttname"><a href="dodo_8hpp.html">dodo.hpp</a></div><div class="ttdoc">Includes all dodo headers.</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedodo.html">dodo</a></li><li class="navelem"><a class="el" href="namespacedodo_1_1common.html">common</a></li><li class="navelem"><a class="el" href="classdodo_1_1common_1_1Cache.html">Cache</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
